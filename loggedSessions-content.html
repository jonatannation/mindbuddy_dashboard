<h1 class="text-3xl font-semibold mb-6 font-space-grotesk">Logged Sessions</h1>

<div class="flex space-x-4 mb-8">
    <button id="logNewSessionBtn" class="bg-mindbuddy-navy text-white px-4 py-2 rounded-md hover:bg-opacity-80 transition duration-300">Log New Session</button>
    <button id="viewPreviousSessionsBtn" class="bg-mindbuddy-lightblue text-white px-4 py-2 rounded-md hover:bg-opacity-80 transition duration-300">View Previous Sessions</button>
    <button id="analyzeSessionsBtn" class="bg-mindbuddy-green text-white px-4 py-2 rounded-md hover:bg-opacity-80 transition duration-300">Analyze Sessions</button>
</div>

<!-- AI Analysis Section (initially hidden) -->
<section id="aiAnalysisSection" class="hidden mb-12">
    <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-semibold font-space-grotesk">AI Analysis</h2>
        <div class="flex space-x-4">
            <div class="relative">
                <select id="teamFilter" class="appearance-none bg-white border border-mindbuddy-lightblue text-mindbuddy-navy py-2 px-4 pr-8 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-mindbuddy-lightblue focus:border-transparent">
                    <option value="all">All Teams</option>
                    <option value="team1">U17 Team</option>
                    <option value="team2">Senior Team</option>
                    <option value="team3">Women's Team</option>
                </select>
                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-mindbuddy-navy">
                    <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                </div>
            </div>
            <div class="relative">
                <select id="yearFilter" class="appearance-none bg-white border border-mindbuddy-lightblue text-mindbuddy-navy py-2 px-4 pr-8 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-mindbuddy-lightblue focus:border-transparent">
                    <option value="all">All Years</option>
                    <option value="2024">2024</option>
                    <option value="2023">2023</option>
                    <option value="2022">2022</option>
                </select>
                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-mindbuddy-navy">
                    <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                </div>
            </div>
        </div>
    </div>
    
    <button id="aiAnalyzeBtn" class="w-full bg-mindbuddy-navy text-white p-4 rounded-lg mb-6 hover:bg-opacity-80 transition duration-300 shadow-lg">
        <i class="fas fa-magic mr-2"></i>
        Let AI analyze and look for patterns
    </button>

    <!-- Progress animation (initially hidden) -->
    <div id="analysisProgress" class="hidden mb-6">
        <div class="flex justify-center items-center">
            <div class="rotating-ball h-10 w-10">
                <img src="Assets/LogoBall.png" alt="Loading" class="w-full h-full">
            </div>
            <p id="progressText" class="ml-4 text-mindbuddy-navy font-semibold">Analyzing sessions...</p>
        </div>
    </div>

    <!-- Analysis result (initially hidden) -->
    <div id="analysisResult" class="hidden bg-white rounded-lg card-shadow p-6 mb-6">
        <h3 class="text-xl font-semibold mb-4 text-mindbuddy-navy">Analysis Results</h3>
        <p id="analysisText" class="text-mindbuddy-gray mb-4"></p>
        <h4 class="font-semibold mb-2 text-mindbuddy-navy">Recommendations:</h4>
        <ul id="recommendationsList" class="list-disc list-inside text-mindbuddy-gray mb-4"></ul>
        <div class="flex justify-end space-x-4">
            <button class="bg-mindbuddy-navy text-white px-4 py-2 rounded-md hover:bg-opacity-80 transition duration-300 flex items-center">
                <i class="fas fa-download mr-2"></i>
                Download Report
            </button>
            <button class="bg-mindbuddy-lightblue text-white px-4 py-2 rounded-md hover:bg-opacity-80 transition duration-300 flex items-center">
                <i class="fas fa-share-alt mr-2"></i>
                Share Results
            </button>
        </div>
    </div>

    <div id="historicalSessions" class="space-y-6">
        <!-- 15 historical 1-to-1 sessions -->
        <div class="bg-white rounded-lg card-shadow p-6">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-semibold text-mindbuddy-navy">Lukas Schmidt - 1-to-1 Session</h3>
                <span class="text-mindbuddy-gray">March 15, 2024</span>
            </div>
            <p class="text-mindbuddy-gray mb-4">Discussed pre-game anxiety and developed coping strategies. Lukas showed improvement in visualization techniques.</p>
            <div class="flex space-x-4">
                <button class="text-mindbuddy-lightblue hover:text-mindbuddy-navy transition duration-300">
                    <i class="fas fa-file-alt mr-2"></i>View Full Notes
                </button>
                <button class="text-mindbuddy-lightblue hover:text-mindbuddy-navy transition duration-300">
                    <i class="fas fa-comment-alt mr-2"></i>Add Comment
                </button>
            </div>
        </div>
        <!-- Add more historical sessions here -->
    </div>
</section>

<!-- New Session Form (initially hidden) -->
<section id="newSessionForm" class="mb-12 bg-white rounded-lg card-shadow p-6 hidden">
    <h2 class="text-2xl font-semibold mb-4 font-space-grotesk">Log New Session</h2>
    <form>
        <div class="mb-4">
            <label for="sessionType" class="block text-sm font-medium text-mindbuddy-gray mb-2">Session Type</label>
            <div class="relative">
                <select id="sessionType" name="sessionType" class="appearance-none w-full bg-white border border-mindbuddy-lightblue text-mindbuddy-navy py-2 px-4 pr-8 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-mindbuddy-lightblue focus:border-transparent">
                    <option value="1to1">1-to-1 Session</option>
                    <option value="team">Team Session</option>
                    <option value="group">Group Session</option>
                </select>
                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-mindbuddy-navy">
                    <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                </div>
            </div>
        </div>
        <div class="mb-4">
            <label for="playerName" class="block text-sm font-medium text-mindbuddy-gray mb-2">Player/Team Name</label>
            <div class="relative">
                <select id="playerName" name="playerName" class="appearance-none w-full bg-white border border-mindbuddy-lightblue text-mindbuddy-navy py-2 px-4 pr-8 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-mindbuddy-lightblue focus:border-transparent">
                    <option value="">Select player/team</option>
                    <option value="Lukas Schmidt">Lukas Schmidt</option>
                    <option value="Emma Weber">Emma Weber</option>
                    <option value="Team U17">Team U17</option>
                    <option value="other">Other</option>
                </select>
                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-mindbuddy-navy">
                    <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                </div>
            </div>
        </div>
        <div class="mb-4">
            <label class="block text-sm font-medium text-mindbuddy-gray mb-2">Session Notes</label>
            <div class="flex space-x-4 mb-2">
                <button type="button" id="writeNotesBtn" class="bg-mindbuddy-navy text-white px-4 py-2 rounded-md hover:bg-opacity-80 transition duration-300">Write Notes</button>
                <button type="button" id="uploadAudioBtn" class="bg-mindbuddy-green text-white px-4 py-2 rounded-md hover:bg-opacity-80 transition duration-300">Upload Voice Recording</button>
            </div>
            <textarea id="sessionNotes" name="sessionNotes" rows="4" class="w-full p-2 border border-mindbuddy-lightblue rounded-md hidden"></textarea>
            <div id="audioUpload" class="hidden">
                <input type="file" id="audioFile" name="audioFile" accept="audio/*" class="w-full p-2 border border-mindbuddy-lightblue rounded-md">
                <p class="text-sm text-mindbuddy-gray mt-2">Upload your voice recording and let AI generate session notes for you!</p>
            </div>
        </div>
        <div class="flex justify-end">
            <button type="submit" class="bg-mindbuddy-navy text-white px-4 py-2 rounded-md hover:bg-opacity-80 transition duration-300">Log Session</button>
        </div>
    </form>
</section>

<!-- Previous Sessions (initially hidden) -->
<section id="previousSessions" class="hidden">
    <h2 class="text-2xl font-semibold mb-4 font-space-grotesk">Previous Sessions</h2>
    <div class="space-y-6">
        <!-- Example of a logged session -->
        <div class="bg-white rounded-lg card-shadow p-6">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-semibold text-mindbuddy-navy">Lukas Schmidt - 1-to-1 Session</h3>
                <span class="text-mindbuddy-gray">March 15, 2024</span>
            </div>
            <p class="text-mindbuddy-gray mb-4">Discussed pre-game anxiety and developed coping strategies. Lukas showed improvement in visualization techniques.</p>
            <div class="flex space-x-4">
                <button class="text-mindbuddy-lightblue hover:text-mindbuddy-navy transition duration-300">
                    <i class="fas fa-file-alt mr-2"></i>View Full Notes
                </button>
            </div>
        </div>
        <!-- Add more logged sessions here -->
    </div>
</section>

<!-- AI Summary Modal -->
<div id="aiSummaryModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
    <div class="bg-white p-8 rounded-lg w-full max-w-md">
        <h2 class="text-2xl font-semibold mb-4 text-mindbuddy-navy">AI-Generated Summary</h2>
        <p id="aiSummary" class="text-mindbuddy-gray mb-4"></p>
        <button id="closeModal" class="bg-mindbuddy-navy text-white px-4 py-2 rounded-md hover:bg-opacity-80 transition duration-300">Close</button>
    </div>
</div>